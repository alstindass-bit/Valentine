<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Stuti ðŸ’–</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #ff6a88, #ff4d6d);
  overflow: hidden;
  text-align: center;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
}

/* Landing Screen */
#landing {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: inherit;
  z-index: 10;
}

#landing button {
  padding: 15px 30px;
  font-size: 1.3rem;
  border: none;
  border-radius: 12px;
  background: #ff4d6d;
  color: white;
  cursor: pointer;
  transition: 0.2s;
}

#landing button:hover {
  transform: scale(1.05);
}

/* Main Content */
#mainContent {
  display: none;
  flex-direction: column;
  align-items: center;
  gap: 30px;
}

#button-container {
  display: flex;
  gap: 20px;
}

button.choice {
  width: 180px;
  padding: 14px 0;
  font-size: 1.1rem;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: 0.2s;
}

#yes {
  background: #ff4d6d;
  color: white;
}

#no {
  background: #6c757d;
  color: white;
  position: relative;
}

button.choice:hover {
  transform: scale(1.05);
}

/* Toast */
.toast {
  position: absolute;
  top: 110%;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  color: black;
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 0.9rem;
  white-space: nowrap;
}

/* Mobile */
@media (max-width: 500px) {
  #button-container {
    flex-direction: column;
  }
}

/* Hidden but playable YouTube player */
#player {
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0.01;
  pointer-events: none;
}
</style>
</head>
<body>

<!-- Landing -->
<div id="landing">
  <h1>Press Play to Continue ðŸ’–</h1>
  <button id="playBtn">Play ðŸŽµ</button>
</div>

<!-- Main Question -->
<div id="mainContent">
  <h1>Stuti, will you be my Valentine? ðŸ’˜</h1>
  <div id="button-container">
    <button id="yes" class="choice">Yes ðŸ’–</button>
    <button id="no" class="choice">No</button>
  </div>
</div>

<!-- YouTube Player -->
<div id="player"></div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
let player;
let loopInterval;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    videoId: 'qdDVtFvJwUc',
    playerVars: {
      controls: 0,
      modestbranding: 1,
      rel: 0,
      playsinline: 1
    }
  });
}

const playBtn = document.getElementById("playBtn");
const landing = document.getElementById("landing");
const mainContent = document.getElementById("mainContent");

playBtn.addEventListener("click", () => {

  // Show main content
  landing.style.display = "none";
  mainContent.style.display = "flex";

  // Start music from 47 seconds
  player.seekTo(47);
  player.playVideo();

  // Clean loop 47 â†’ 79
  loopInterval = setInterval(() => {
    if (player.getCurrentTime() >= 79) {
      player.seekTo(47);
    }
  }, 300);
});

/* YES BUTTON */
document.getElementById("yes").addEventListener("click", () => {
  alert(
`Look at thatâ€¦ ðŸ’–

Miss â€œHeâ€™s not romantic enoughâ€
just chose me. ðŸ˜

Lucky for you, I actually love trying to impress you.

Happy Valentineâ€™s, Stuti! ðŸ’•`
  );
});

/* NO BUTTON */
const noBtn = document.getElementById("no");

const messages = [
  "Not happening! ðŸ˜",
  "Seriously, try again! ðŸ˜…",
  "Haha, you canâ€™t escape! ðŸ˜Œ",
  "One more click and Iâ€™m gone! ðŸ’”"
];

let clickCount = 0;

noBtn.addEventListener("click", () => {
  if (clickCount >= messages.length) return;

  const toast = document.createElement("div");
  toast.className = "toast";
  toast.textContent = messages[clickCount];
  noBtn.appendChild(toast);

  setTimeout(() => toast.remove(), 2000);

  // Shrink
  const scale = 1 - 0.1 * (clickCount + 1);
  noBtn.style.transform = `scale(${scale})`;

  clickCount++;

  // Remove only after LAST message displays
  if (clickCount === messages.length) {
    setTimeout(() => {
      noBtn.remove();
    }, 2200);
  }
});
</script>

</body>
</html>
