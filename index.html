<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Stuti ðŸ’–</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    min-height: 100vh;
    text-align: center;
    overflow: hidden;
    background: linear-gradient(135deg, #ffb6c1, #ff4d6d);
  }

  /* LANDING PAGE */
  #landing {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  #landing h1 {
    font-size: 2rem;
    color: #fff;
    margin-bottom: 20px;
    text-shadow: 1px 1px 5px #800000;
  }

  #playBtn {
    font-size: 1.5rem;
    padding: 12px 30px; /* Reduced size */
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background-color: #ff4d6d;
    color: white;
  }

  /* MAIN CONTENT */
  #mainContent {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    position: relative;
  }

  h1 {
    color: #fff;
    font-size: 2.2rem;
    margin: 20px;
    text-shadow: 1px 1px 5px #800000;
  }

  #button-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    max-width: 400px;
    width: 100%;
    margin-top: 30px;
    position: relative;
  }

  button {
    font-size: 1.2rem;
    padding: 12px 28px; /* adjusted for visual balance */
    border: none;
    border-radius: 12px;
    cursor: pointer;
    flex: 1;
    transition: transform 0.2s, width 0.2s, height 0.2s, font-size 0.2s;
    z-index: 2;
    min-width: 120px; /* prevent extreme shrinking */
  }

  button:hover {
    transform: scale(1.05);
  }

  #yes { background-color: #ff4d6d; color: white; }
  #no { background-color: #6c757d; color: white; touch-action: none; }

  #toast {
    position: absolute;
    background: rgba(255,255,255,0.95);
    padding: 10px 20px;
    border-radius: 12px;
    color: #333;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 1rem;
    opacity: 0;
    transition: opacity 0.3s;
    pointer-events: none;
    margin-top: 12px;
    white-space: nowrap;
  }

  /* BEATING HEARTS */
  .heart {
    position: absolute;
    width: 20px;
    height: 20px;
    background: red;
    transform: rotate(-45deg);
    animation: beat 1s infinite;
  }

  .heart::before,
  .heart::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    background: red;
    border-radius: 50%;
  }
  .heart::before { top: -10px; left: 0; }
  .heart::after { left: 10px; top: 0; }

  @keyframes beat {
    0%,100% { transform: scale(1) rotate(-45deg); }
    50% { transform: scale(1.3) rotate(-45deg); }
  }

  @media (max-width: 600px) {
    #button-container { flex-direction: column; }
  }
</style>
</head>
<body>

<!-- LANDING PAGE -->
<div id="landing">
  <h1>Press Play to Start ðŸ’–</h1>
  <button id="playBtn">Play ðŸ’–</button>
</div>

<!-- MAIN CONTENT -->
<div id="mainContent">
  <h1>Stuti, will you be my Valentine? ðŸ’˜</h1>
  <div id="button-container">
    <button id="yes">Yes ðŸ’–</button>
    <button id="no">No</button>
    <div id="toast"></div>
  </div>
</div>

<!-- AUDIO -->
<audio id="song" src="Justin%20Bieber%20-%20Love%20Me.mp3" preload="auto"></audio>

<script>
const landing = document.getElementById("landing");
const mainContent = document.getElementById("mainContent");
const playBtn = document.getElementById("playBtn");
const song = document.getElementById("song");

const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const toast = document.getElementById("toast");

let noClicks = 0;
const maxNoClicks = 4;
const messages = [
  "Haha, you can't escape! ðŸ˜Œ",
  "Nope, not an option! ðŸ’–",
  "Try againâ€¦ destiny awaits! ðŸ˜",
  "One more click and I disappear! ðŸ’”"
];

// --- PLAY BUTTON ---
playBtn.addEventListener("click", async () => {
  try {
    song.volume = 0.4;
    song.currentTime = 45; // start 1s earlier
    await song.play();

    // loop between 45s and 79s
    song.addEventListener("timeupdate", () => {
      if(song.currentTime >= 79){
        song.currentTime = 45;
        song.play();
      }
    });

    landing.style.display = "none";
    mainContent.style.display = "flex";

    // spawn hearts
    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.style.left = Math.random() * window.innerWidth + "px";
      heart.style.top = Math.random() * window.innerHeight + "px";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 2000);
    }, 500);

  } catch(err) {
    alert("Tap Play again ðŸ’–");
  }
});

// --- YES BUTTON ---
yesBtn.addEventListener("click", () => {
  alert(`You always say Iâ€™m not romantic enough. ðŸ’–
But if this doesnâ€™t count,
then I guess Iâ€™ll just have to try harder.

Lucky for you,
I kind of like the idea of impressing you.

Happy Valentineâ€™s, Stuti. ðŸ’•`);
});

// --- NO BUTTON ---
noBtn.addEventListener("click", () => {
  if(noClicks < maxNoClicks - 1){
    toast.innerText = messages[noClicks];
    toast.style.opacity = 1;
    // scale button proportionally
    noBtn.style.transform = `scale(${1 - 0.1*(noClicks+1)})`;
    noClicks++;
  } else {
    toast.innerText = messages[noClicks];
    toast.style.opacity = 1;
    setTimeout(() => { noBtn.style.display = "none"; }, 1200);
  }
  setTimeout(() => toast.style.opacity = 0, 1200);
});

// --- Responsive No Button ---
window.addEventListener("resize", () => {
  const maxX = window.innerWidth - noBtn.offsetWidth - 10;
  const maxY = window.innerHeight - noBtn.offsetHeight - 10;
});
</script>
</body>
</html>
